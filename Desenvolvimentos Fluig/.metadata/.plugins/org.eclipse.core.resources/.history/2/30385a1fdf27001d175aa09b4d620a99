<html>
<head>
   <link type="text/css" rel="stylesheet" href="/style-guide/css/fluig-style-guide.min.css" />
   <link type="text/css" rel="stylesheet" href="style.css" />
    
   <script type="text/javascript" src="/portal/resources/js/jquery/jquery.js"></script>
   <script type="text/javascript" src="/portal/resources/js/jquery/jquery-ui.min.js"></script>
   <script type="text/javascript"  src="/portal/resources/js/mustache/mustache-min.js"></script>
   <script type="text/javascript"  src="/style-guide/js/fluig-style-guide.min.js" charset="utf-8"></script>
   
   <script src="/webdesk/vcXMLRPC.js"></script>
   
   <script type="text/javascript" src="FLUIGIP.js"></script>
   <script type="text/javascript" src="compras.js"></script>
</head>
<body>
	<div class="fluig-style-guide">
        <div class="fs-xl-margin-left fs-md-margin-right">
            <div class="row text-center" data-type="header" data-field-name="headerCompras">
                <div class="col-md-2">
                    <img src="imagens/logo.png" style="width: auto; height: 100px">
                </div>
                <div class="col-md-8">
                    <h2 class="text-center" id="tituloSolicitacao">Pedido de Medicação</h2>
                    <h2 class="text-center" id="tituloCadastroProtheus">Inclusão de Insumos e Produtos no Protheus</h2>
                    <h2 class="text-center" id="tituloApGerente">Aprovação de Solicitação</h2>
                    <h2 class="text-center" id="tituloLancaNota">Efetuar Lançamento de Nota</h2>
                    <h2 class="text-center" id="tituloCotacao">Análise de Cotação</h2>
                    <h2 class="text-center" id="tituloRetirarMaterial">Retirada de Insumo/Produto</h2>
                    <h2 class="text-center" id="tituloSolicitacaoFinalizada">Solicitação Finalizada</h2>
                </div>
                <div class="col-md-2" id="logo-right">
                    <img src="imagens/logo.png" style="width: auto; height: 100px">
                </div>
            </div>

			<form class="form-horizontal fs-sm-margin-top" name="form" role="form">
            <!-- panel dados solicitante -->
				<div class="row" data-type="content"  data-field-name="contentRetirarMateriais">				
					<div class="panel panel-success" id="panelDadoSolicitante" name="panelDadoSolicitante">
						<div class="panel-heading">
							<p class="panel-title">			
                        <i class="flaticon flaticon-person icon-lg"></i>				   
							   <strong class="fs-xs-margin-left">Dados do Solicitante</strong>
						   </p>
						</div>
                        <div class="panel-body">
                            <div class="row">
                                <div class="form-group col-md-2 ms-left">
                                    <div class="input-group col-md-12">
                                        <label for="nameUser">Nome do Usuário<strong class="required text-danger"></strong></label>
                                        <input type="text" class="form-control zoom-tdi" id="nameUser" name="nameUser"
                                            style="width: 100%!important;" readonly analytics="true" gooddataid="1">
                                    </div>
                                </div>
                                <div class="form-group col-md-4 ms-left">
                                    <label for="empresa">Empresa\Filial<strong class="required text-danger"></strong></label>
                                    <div class="input-group">
                                        <span class="input-group-addon">
                                            <i class="flaticon flaticon-company icon-sm" aria-hidden="true"></i></span>
                                        <input type="hidden" id="codFilial" name="codFilial" data-fluig-state-valid="0,4,119,491,505"
                                            data-fluig-write="0,4,119,491,505">
                                        <input type="hidden" id="codArmazem" name="codArmazem" data-fluig-state-valid="0,4,119,491,505"
                                            data-fluig-write="0,4,119,491,505">
                                        <input type="text" class="form-control zoom-tdi" id="empresa" name="empresa"
                                            data-fluig-state-valid="0,4,119,491" data-fluig-write="0,4,119,491,505" onchange="validaCampo(this)"
                                            required="required" readonly placeholder="Selecione a Empresa ">
                                        <div class="input-group-addon zoom-tdi" onclick="zoomEmpresa(this)" data-toggle="tooltip"
                                            data-placement="bottom" title="Pesquisar empresa">
                                            <i class="flaticon flaticon-search icon-sm"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group col-md-4 ms-left">
                                    <label for="centroCusto">Centro de Custo:<strong class="required text-danger"></strong></label>
                                    <div class="input-group" readonly="">
                                        <span class="input-group-addon">
                                            <i class="flaticon flaticon-company icon-sm" aria-hidden="true"></i></span>
                                        <input type="hidden" id="codCentroCusto" name="codCentroCusto">
                                        <input type="text" class="form-control zoom-tdi" id="descricao" name="descricao"
                                            onchange="validaCampo(this)" required="required" readonly="readonly"
                                            placeholder="Clique na lupa para selecionar">
                                        <div class="input-group-addon zoom-tdi" id="bottom" onchange="habilitaBtn()" onclick="zoomCusto(this)"
                                            data-toggle="tooltip" data-placement="bottom" title="Pesquisar empresa">
                                            <i class="flaticon flaticon-search icon-sm"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-field" data-type="date" data-show-properties="" data-field-name="prazoEntrega">
                                    <div class="col-md-2">
                                        <label for="prazoEntrega" style="color:red;">Prazo de Entrega: </label>
                                        <input type="date" id="prazoEntrega" onkeypress="return false" name="prazoEntrega" min=""
                                            class="form-control" data-fluig-state-valid="0,4" data-fluig-write="0,4">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

            <!-- panel ddados da solicitação -->
				<div class="row" data-type="content"  data-field-name="contentDadoSolicitacao">				
					<div class="panel panel-danger" id="panelDadoSolicitacao" name="panelDadoSolicitacao">
						<div class="panel-heading">
							<p class="panel-title">
                        <i class="flaticon flaticon-content-paste icon-lg"></i>					   
							   <strong class="fs-xs-margin-left">Dados da solicitação</strong>
						   </p>
						</div>
                  <div class="panel-body">
                     <div class="form-group col-md-12">
                         <div class="table-datatable">

                            <div class="form-group col-md-12">
                               <div class="row fs-xs-margin-left">
                                  <div class="col-sm-6 text-left">
                                     <h2 name="tituloProdutos" id="tituloProdutos">Produtos</h2>
                                  </div> 
                                  <div class="col-md-6 text-right" id="grupoBotaoProdutos" >
                                     <button type="button" class="btn btn-success" name="modalAdicionarProduto" id="modalAdicionarProduto" data-toggle="tooltip" data-placement="bottom" title="Adicionar novo produto" style="display:none">
                                        <i class="flaticon flaticon-add-box icon-sm"></i>
                                        Solicitar Cadastro de Produto
                                     </button> 
                                     <button type="button" class="btn btn-info" name="modalBuscarProduto" id="modalBuscarProduto" data-toggle="tooltip" data-placement="bottom" title="Buscar produto">
                                        <i class="flaticon flaticon-search icon-sm"></i>
                                        Buscar produto
                                     </button>
                                  </div>                                        
                               </div>
                            </div>
                            
                            <!-- tabela de produtos cadastrados no sistema e adicionados pelo usuário -->
                          <!--  <div class="row">
                               <div class="col-sm-12 table-responsive fs-md-margin-top">
                               <h3 id="labelProdutos">Novos Produtos - Cadastro Protheus</h3>
                                  <table name="tb_novosProdutos" id="tb_novosProdutos" class="table table-bordered table-striped  ">
                                     <thead>
                                           <tr>                                            
                                              <th>Descrição</th>                                             
                                              <th>Observação</th>                                         
                                              <th></th>
                                           </tr>
                                     </thead>
                                     <tbody>                                                                          
                                     </tbody>
                                  </table>  
                                  <input type="hidden" id="listaNovosProdutos" name="listaNovosProdutos">             
                               </div>  
                            </div>   -->

                            <!-- tabela de produtos cadastrados no sistema e adicionados pelo usuário -->
                            <div class="row">
                               <div class="col-md-12 table-responsive fs-md-margin-top">
                               <h3 id="labelProdutosAdicionais">Produtos Adicionados</h3>
                                  <table name="tb_produtos" id="tb_produtos" class="table table-bordered table-striped  ">
                                     <thead>
                                           <tr>
                                              <th>Código Produto</th>
                                              <th>Descrição</th>
                                              <th>Quantidade</th>
                                              <th>Valor do Orçamento</th>
                                              <th>Especificação Técnica</th>
                                              <th>Observação</th>                                         
                                              <th></th>
                                           </tr>
                                     </thead>
                                     <tbody>                                                                          
                                     </tbody>
                                  </table>
                                  <input type="hidden" id="listaProdutos" name="listaProdutos">                              
                               </div>  
                            </div>                           
                         </div>
                      </div>         
                      <div name="produtoTab" id="produtoTab">
                         <div class="form-group col-md-12">                        
                            <div class="input-group col-md-12">                   
                               <label for="justificativa" class="col-md-12">Justificativa</label>                              
                               <textarea class="form-control" rows="5" name="justificativa" id="justificativa" data-fluig-state-valid="0,4" data-fluig-write="0,4" analytics="true" gooddataid="5"></textarea>                              
                            </div>
                         </div> 
                      </div>                    
                   </div>

					</div>
				</div>

            <!-- Panel controle orcamentario -->
            <div class="row" data-type="content"  data-field-name="contentOrcamento">			
               <div class="panel panel-danger" id="panelOrcamento">
                  <div class="panel-heading">
                     <p class="panel-title">                      
                        <i class="flaticon flaticon-content-paste icon-lg"></i>
                        <strong class="fs-xs-margin-left">Controle Orçamentário</strong>
                     </p>
                  </div>
                  <div class="panel-body">
                  	<!-- ORÇAMENTO FEITO PELO EMBAIXADOR -->
                     <div class="row col-md-12 fs-huge-margin-top" data-type="table"  data-field-name="tableOrcamento">
                        <h2>Controle orçamentário realizado pelo embaixador </h2>
                        <div class="col-sm-12 table-responsive fs-md-margin-top">                           
                           <table name="tb_orcamento" id="tb_orcamento" class="table table-bordered table-striped  ">
                              <thead>
                                    <tr>
                                       <th>Descrição</th>
                                       <th>Quantidade</th>
                                       <th>Valor do orçamento</th>
                                       <th>Especificação técnica</th>
                                    </tr>
                              </thead>
                              <tbody>                                                                          
                              </tbody>
                           </table>
                        </div>
                    </div>

                    <!-- APRESENTACAO VALOR TOTAL ORÇAMENTO -->
                    <div class="row ms-valores-cotacao">
                        <div class="form-group col-sm-3 ms-left"> 
                           <div class="input-group col-sm-12">                  
                           </div>
                        </div>
                        <div class="form-group col-sm-3 ms-left"> 
                           <div class="input-group col-sm-12">                             
                           </div>
                        </div>
                        <div class="form-group col-sm-6 ms-left"> 
                           <div class="input-group col-sm-12">                  
                              <h2>Orçamento total</h2>
                              <span class="font-span" id="totalOrcamento"></span>              
                           </div>
                        </div>                     
                      </div>  
                  </div>
               </div>
            </div>

            <!-- Panel cotacoes -->
            <div class="row" data-type="content"  data-field-name="contentCotacoes">			
               <div class="panel panel-success" id="panelCotacoes">
                  <div class="panel-heading">
                     <p class="panel-title">                      
                        <i class="flaticon flaticon-content-paste icon-lg"></i>
                        <strong class="fs-xs-margin-left">Análise de cotação</strong>
                     </p>
                  </div>
                  <div class="panel-body">
                    <!-- analise de cotação equipe de compras -->
                     <div class="row col-md-12 fs-huge-margin-top" data-type="table"  data-field-name="tableCotacoes">
                        <h2>Cotação Relizada Equipe de Compras </h2>
                        <div class="col-sm-12 table-responsive fs-md-margin-top">                           
                           <table name="tb_cotacoes" id="tb_cotacoes" class="table table-bordered table-striped  ">
                              <thead>
                                    <tr>
                                       <th>Descrição</th>
                                       <th>Quantidade</th>
                                       <th>Fornecedores</th>
                                       <th></th>
                                    </tr>
                              </thead>
                              <tbody>                                                                          
                              </tbody>
                           </table>
                        </div>
                        <!-- Cotacoes a serem enviadas no taskScript130 -->
                        <input type="hidden" name="cotacoesInput" id="cotacoesInput">                        
                     </div>

                     <div class="row col-md-12 fs-huge-margin-top" id="erroCotacao">
                     	<span> Existem cotações que não foram realizadas. Favor entrar em contato com o setor de insumos.</span>
                     </div>
               
                      <!-- --- INICIO - APRESENTAÇÃO DE VALORES COTAÇÃO ----- -->
                      <div class="row ms-valores-cotacao">
                        <div class="form-group col-sm-3 ms-left"> 
                           <div class="input-group col-sm-12">                  
                              <h2 id="labelValorMercadoria">Valor da Mercadoria</h2>
                              <span class="font-span" id="valorMercadoria"></span>  
                           </div>
                        </div>
                        <div class="form-group col-sm-3 ms-left"> 
                           <div class="input-group col-sm-12">                  
                              <h2 id="labelDespesasFrete">Despesas</h2>
                              <span class="font-span" id="valorDespesas"></span>
                           </div>
                        </div>
                        <div class="form-group col-sm-3 ms-left"> 
                           <div class="input-group col-sm-12">                  
                              <h2 id="labelDespesasFrete">Frete</h2>
                              <span class="font-span" id="valorFrete"></span>
                           </div>
                        </div>
                        <div class="form-group col-sm-3 ms-left"> 
                           <div class="input-group col-sm-12">                  
                              <h2 id="labelTotalDesconto">Descontos</h2>   
                              <span class="font-span" id="valorDescontos"></span>                
                           </div>
                        </div>                                               
                     </div>

                     <div class="row col-md-12 fs-huge-margin-top"  style="text-align: right;">
                        <div class="form-group">               
                           <div class="input-group col-sm-12">                  
                              <h2 id="labelTotalCompra">Total do Pedido de Compra</h2>
                              <h3 id="valorTotalCompra"></h3>
                           </div>
                        </div>
                     </div>

                     
                     <!-- <div class="row ms-valores-cotacao">
                        <div class="form-group col-sm-4 ms-left"> 
                           <div class="input-group col-sm-12">
                           </div>
                        </div>
                        <div class="form-group col-sm-4 ms-left"> 
                           <div class="input-group col-sm-12">                  
                           </div>
                        </div>
                        <div class="form-group col-sm-4 ms-left"> 
                            <div class="input-group col-sm-12">                  
                              <h2 id="labelTotalDesconto">Descontos</h2>   
                              <span class="font-span" id="valorDescontos"></span>                
                           </div> 
                           <div class="input-group col-sm-12">                  
                              <h2 id="labelTotalCompra">Total líquido da cotação</h2>
                              <span class="font-span" id="valorTotalCompra"></span>              
                           </div>
                        </div>
                     </div>

                     <div class="row ms-valores-cotacao">
                        <div class="form-group col-sm-4 ms-left"> 
                           <div class="input-group col-sm-12">
                           </div>
                        </div>
                        <div class="form-group col-sm-4 ms-left"> 
                           <div class="input-group col-sm-12">                  
                           </div>
                        </div>
                        <div class="form-group col-sm-4 ms-left"> 
                            <div class="input-group col-sm-12">                  
                              <h2 id="labelTotalCompra">Total líquido da cotação</h2>
                              <span class="font-span" id="valorTotalCompra"></span>              
                           </div> 
                        </div>
                     </div>                     -->
                      <!-- --- FIM - APRESENTAÇÃO DE VALORES COTAÇÃO ----- -->
                  </div>
               </div>
            </div>

            <!-- campos hidden -->
            <input type="hidden" class="form-control" id="processo" name="processo" >
            <input type="hidden" class="form-control" id="estado" name="estado" >
            <input type="hidden" class="form-control" id="existeProdutoNovo" name="existeProdutoNovo" >
            <input type="hidden" class="form-control" id="existeGerente" name="existeGerente" >
            <input type="hidden" class="form-control" id="isGerente" name="isGerente" >
            <input type="hidden" class="form-control" id="matriculaUsuario" name="matriculaUsuario" >
			</form>	
		</div>
	</div>
</body>
   <!-- scripts desenvolvidos pela Medmais -->
   <script type="text/javascript" src="scriptApp.js"></script>
	<script type="text/javascript" src="modalAdicionarProduto.js"></script>
	<script type="text/javascript" src="modalBuscarProduto.js"></script>	
	<script type="text/javascript" src="scriptCotacao.js"></script>
	<script type="text/javascript" src="visualizarProdutosNovos.js"></script>
	<script type="text/javascript" src="editarProduto.js"></script>
	<script type="text/javascript" src="visualizarProdutos.js"></script>
	<script type="text/javascript" src="scriptOrcamentoEmbaixador.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {
  
          $("#justificativa").bind('paste', function(e) {
              e.preventDefault();
          });   
      });
  
  
      var today = new Date();
      today.setDate(today.getDate() + 15); //Voalá
      today = today.toISOString().split('T')[0];
                  
      document.getElementsByName("prazoEntrega")[0].setAttribute('min', today);
      $("#prazoEntrega").keyup(function () {
                  $("#prazoEntrega").val("");
              });
  
                          
  
              $.each($("[data-date]"), function (i, o) {
                  var id = $(o).attr("id");
                  FLUIGC.calendar("#" + id);
              });
  
              $(document).ready(function () {
                  $.each($("[data-date]"), function (i, o) {
                      var id = $(o).attr("id");
                      if ($("#" + id).attr("readonly")) {
                          $("#" + id).data('DateTimePicker').disable();
                      }
                  });
              });
  
      </script>
</html>