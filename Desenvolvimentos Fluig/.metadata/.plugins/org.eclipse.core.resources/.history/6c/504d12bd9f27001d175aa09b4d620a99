<!DOCTYPE html>
<html>

<head>
    <title>Form</title>

    <link rel="stylesheet" type="text/css" href="/style-guide/css/fluig-style-guide.min.css">
    <script src="/resources/js/jquery/jquery.js"></script>
    <script src="/resources/js/jquery/jquery-ui.min.js"></script>
    <script src="/resources/js/mustache/mustache-min.js"></script>
    <script src="/style-guide/js/fluig-style-guide.min.js"></script>

    <!-- CUSTOM -->
    <link href="/style-guide/css/fluig-style-guide-filter.min.css" rel="stylesheet" type="text/css">
    <link href="/style-guide/css/fluig-style-guide-ratingstars.min.css" rel="stylesheet" type="text/css">
    <script src="/style-guide/js/fluig-style-guide-filter.min.js"></script>
    <script src="/style-guide/js/fluig-style-guide-ratingstars.min.js"></script>

    <link href='/webdesk/customresources?cid=1&resourceName=temaFormulario/4.css' type='text/css' rel='stylesheet' />
</head>

<body class="fluig-style-guide">

    <form class="totvs-form grid vertical create-form-components ui-sortable t4" name="createFormComponents"
        style="padding-left: 10px; padding-right: 10px;"><img
            src="http://portal.medmais.com:8007/portal/api/servlet/image/0101001/custom/logo_image.png" alt="Logo"
            id="logo" style="max-height: 50px; max-width: 250px;">
        <h1 class="title-form-application">Solicitação Documental</h1>
        <div class="paragraph-is-required system-message-information alert alert-info" role="alert">Todos os campos com
            * são de preenchimento obrigatório.</div>
        <div class="form-field" data-type="date" data-show-properties="" data-field-name="data_de_abertu">
            <div class="form-input">
                <div class="form-group"><label>Data de abertura</label><input id="date0" type="text"
                        class="form-control" name="data_de_abertu" data-date=""></div>
            </div>
        </div>
        <div class="form-field" data-type="textbox" data-show-properties="" data-field-name="contato">
            <div class="form-input">
                <div class="form-group"><label>Contato</label><span
                        class="required text-danger"><strong>*</strong></span><input type="text" class="form-control"
                        name="contato" value="" placeholder="" data-size="big" mask="(00) 90000-0000" maxlength="15"
                        data-only-numbers="true" required="required"></div>
            </div>
        </div>
        <div class="form-field" data-type="combo" data-show-properties="" data-field-name="setor">
            <div class="form-input">
                <div class="form-group"><label>Setor</label><span
                        class="required text-danger"><strong>*</strong></span><select class="form-control" name="setor"
                        required="required" analytics="true" gooddataid="1">
                        <option value="-">-</option>
                        <option value="ACUPUNTURA">ACUPUNTURA</option>
                        <option value="ADMINISTRATIVO">ADMINISTRATIVO</option>
                        <option value="AERO. CABO FRIO - EMERGENCIA">AERO. CABO FRIO - EMERGENCIA</option>
                        <option value="AERO. MACAE - EMERGENCIA">AERO. MACAE - EMERGENCIA</option>
                        <option value="AEROPORTO DE JACAREPAGUA">AEROPORTO DE JACAREPAGUA</option>
                        <option value="ASSIST. A SAUDE">ASSIST. A SAUDE</option>
                        <option value="BBTS-DF">BBTS-DF</option>
                        <option value="BBTS-GO">BBTS-GO</option>
                        <option value="BBTS-MG">BBTS-MG</option>
                        <option value="BBTS-PR">BBTS-PR</option>
                        <option value="BBTS-RJ">BBTS-RJ</option>
                        <option value="BBTS-SP">BBTS-SP</option>
                        <option value="CANOAS - EMERGENCIA">CANOAS - EMERGENCIA</option>
                        <option value="CARMOPOLIS - EMERGENCIA">CARMOPOLIS - EMERGENCIA</option>
                        <option value="COORDENAÇAO">COORDENAÇAO</option>
                        <option value="EDISA">EDISA</option>
                        <option value="ENFERMAGEM">ENFERMAGEM</option>
                        <option value="FARMACIA">FARMACIA</option>
                        <option value="FAROL DE SAO TOME - EMERGENCIA">FAROL DE SAO TOME - EMERGENCIA</option>
                        <option value="GERENCIA">GERENCIA</option>
                        <option value="HOME OFFICE">HOME OFFICE</option>
                        <option value="IMBETIBA - ASSIST. A SAUDE">IMBETIBA - ASSIST. A SAUDE</option>
                        <option value="IMBETIBA - EMERGENCIA">IMBETIBA - EMERGENCIA</option>
                        <option value="IMBOASSICA - ASSIST. A SAUDE">IMBOASSICA - ASSIST. A SAUDE</option>
                        <option value="IMBOASSICA - EMERGENCIA">IMBOASSICA - EMERGENCIA</option>
                        <option value="MASSOTARAPIA">MASSOTARAPIA</option>
                        <option value="MEDICINA OCUPACIONAL">MEDICINA OCUPACIONAL</option>
                        <option value="NATAL - EMERGENCIA">NATAL - EMERGENCIA</option>
                        <option value="NUTRIÇAO">NUTRIÇAO</option>
                        <option value="OFFSHORE">OFFSHORE</option>
                        <option value="OPERACIONAL">OPERACIONAL</option>
                        <option value="POSTO MEDICO">POSTO MEDICO</option>
                        <option value="PSICOLOGIA">PSICOLOGIA</option>
                        <option value="RECEPÇAO">RECEPÇAO</option>
                        <option value="RIO DE JANEIRO - EMERGENCIA">RIO DE JANEIRO - EMERGENCIA</option>
                        <option value="SALVADOR - EMERGENCIA">SALVADOR - EMERGENCIA</option>
                        <option value="SERVIÇOS GERAIS">SERVIÇOS GERAIS</option>
                        <option value="SERVIÇOS MEDICOS">SERVIÇOS MEDICOS</option>
                        <option value="SESMT">SESMT</option>
                        <option value="URGENCIA E EMERGENCIA">URGENCIA E EMERGENCIA</option>
                        <option value="UTE MARIO LAGO - EMERGENCIA">UTE MARIO LAGO - EMERGENCIA</option>
                        <option value="UTG CABIUNAS - ASSIST. A SAUDE">UTG CABIUNAS - ASSIST. A SAUDE</option>
                        <option value="UTG CABIUNAS - EMERGENCIA">UTG CABIUNAS - EMERGENCIA</option>
                        <option value="VITORIA - EMERGENCIA">VITORIA - EMERGENCIA</option>
                    </select></div>
            </div>
        </div>
        
        <div class="form-field" data-type="combo" data-show-properties="" data-field-name="tipo_solici" style="">
            <div class="form-input">
                <div class="form-group"><label>Tipo de solicitação</label><span
                        class="required text-danger"><strong>*</strong></span><select class="form-control"
                        name="tipo_solici" required="required" analytics="true" gooddataid="3">
                        <option value="-">-</option>
                        <option value="Cancelamento de documento">Cancelamento de documento</option>
                        <option value="Criação de documento">Criação de documento</option>
                        <option value="Revisão de documento">Revisão de documento</option>
                        <option value="Analise Critica">Analise Critica</option>
                    </select></div>
            </div>
        </div>
        <div class="form-field" data-type="textbox" data-show-properties="" data-field-name="informe_tema">
            <div class="form-input">
                <div class="form-group"><label>Código/Título do Documento</label><span
                        class="required text-danger"><strong>*</strong></span><input type="text" class="form-control"
                        name="informe_tema" value="" placeholder="" data-size="big" required="required"></div>
            </div>
        </div>
        <div class="form-field" data-type="textarea" data-show-properties="" data-field-name="descreva_finali">
            <div class="form-input">
                <div class="form-group"><label>Justificativa</label><span
                        class="required text-danger"><strong>*</strong></span><textarea class="form-control" rows="3"
                        name="descreva_finali" placeholder="" data-size="big" required="required"></textarea></div>
            </div>
        </div>
        <div class="form-field" data-type="textbox" data-show-properties="" data-field-name="Informacoes_adi">
            <div class="form-input">
                <div class="form-group"><label>Informações adicionais</label><input type="text" class="form-control"
                        name="Informacoes_adi" value="" placeholder="" data-size="big"></div>
            </div>
        </div>
        <div class="form-field" data-type="date" data-show-properties="" data-field-name="Estimativa_de_">
            <div class="form-input">
                <div class="col-md-2">
                    <label for="prazoEntrega" style="color:red;">Prazo de Entrega: </label>                                    
                    <input type="date" id="prazoEntrega" onkeypress="return false" name="prazoEntrega" min=""
                        class="form-control" data-fluig-state-valid="0,4" data-fluig-write="0,4">
                </div>
            </div>
        </div>
    </form>


    <script type="text/javascript">



    var today = new Date();
    today.setDate(today.getDate() + 15); //Voalá
    today = today.toISOString().split('T')[0];
                
    document.getElementsByName("prazoEntrega")[0].setAttribute('min', today);
    $("#prazoEntrega").keyup(function () {
                $("#prazoEntrega").val("");
            });

                        

            $.each($("[data-date]"), function (i, o) {
                var id = $(o).attr("id");
                FLUIGC.calendar("#" + id);
            });

            $(document).ready(function () {
                $.each($("[data-date]"), function (i, o) {
                    var id = $(o).attr("id");
                    if ($("#" + id).attr("readonly")) {
                        $("#" + id).data('DateTimePicker').disable();
                    }
                });
            });
        var keyDown = false, ctrl = 17, vKey = 86, Vkey = 118;

        $(document).keydown(function (e) {
            if (e.keyCode == ctrl) keyDown = true;
        }).keyup(function (e) {
            if (e.keyCode == ctrl) keyDown = false;
        });

        $('[data-only-numbers]').on('keypress', function (e) {
            if (!e) {
                var e = window.event;
            }

            if (e.keyCode > 0 && e.which == 0) {
                return true;
            }

            if (e.keyCode) {
                code = e.keyCode;
            } else if (e.which) {
                code = e.which;
            }

            if (code == 46) {
                return true;
            }

            var character = String.fromCharCode(code);
            if (character == '\b' || character == ' ' || character == '\t') {
                return true;
            }
            if (keyDown && (code == vKey || code == Vkey)) {
                return (character);
            } else {
                return (/[0-9]$/.test(character));
            }
        }).on('focusout', function (e) {
            var $this = $(this);
            if ($this.val() == "") {
                return true;
            }
            $this.val($this.val().replace(/[^0-9\.]/g, ''));
        }).on('paste', function (e) {
            var $this = $(this);
            setTimeout(function () {
                $this.val($this.val().replace(/[^0-9\.]/g, ''));
            }, 5);
        });



        $('.create-form-components').on('keyup', 'input[required="required"][type="text"], input[required="required"][type="number"], input[required="required"][type="date"], textarea[required="required"]', function () {
            validationFieldsForm($(this), $(this).parents('.form-field').data('type'));
        });

        $('.create-form-components').on('change', 'input[required="required"][type="checkbox"], input[required="required"][type="radio"], select[required="required"]', function () {
            validationFieldsForm($(this), $(this).parents('.form-field').data('type'));
        });

        function validationFieldsForm(field, type) {
            if (type === "checkbox" || type === "radio") {
                if (!field.is(':checked')) {
                    field.parents('.form-field').addClass('required');
                } else {
                    field.parents('.form-field').removeClass('required');
                }
            } else {
                if (!field.val().trim()) {
                    field.parents('.form-field').addClass('required');
                } else {
                    field.parents('.form-field').removeClass('required');
                }
            }
        }

        var $zoomPreview = $(".zoom-preview");
        if ($zoomPreview.length) {
            $zoomPreview.parent().removeClass("input-group");
            $zoomPreview.remove();
        }

        var ratings = $(".rating");
        if (ratings.length > 0) ratingStars(ratings);
        function ratingStars(stars) {
            $.each(stars, function (i, obj) {
                var field = $(this).closest(".form-group").find(".rating-value");
                var tgt = $(obj);
                tgt.html("");
                var rating = FLUIGC.stars(tgt, { value: field.val() });
                rating.on("click", function (o) {
                    field.val($(this).index() + 1);
                });
            });
        }

        $.each($("[data-date]"), function (i, o) {
            var id = $(o).attr("id");
            FLUIGC.calendar("#" + id);
        });

        $(document).ready(function () {
            $.each($("[data-date]"), function (i, o) {
                var id = $(o).attr("id");
                if ($("#" + id).attr("readonly")) {
                    $("#" + id).data('DateTimePicker').disable();
                }
            });
        });
    </script> 
</body>

</html>